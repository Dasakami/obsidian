–ê–¥–º–∏–Ω-—Ö–µ–Ω–¥–ª–µ—Ä—ã –Ω—É–∂–Ω—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–æ—Ç–æ–º –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –∏ **–º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** –ø—Ä–æ–µ–∫—Ç–∞.

---

## 1Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä —Ö–µ–Ω–¥–ª–µ—Ä–∞ –∞–¥–º–∏–Ω–∞

```python
from aiogram import Router, F
from aiogram.types import Message
from bot.config import settings
from bot.keyboards.admin_keyboard import admin_keyboard

router = Router()

def is_admin(user_id: int):
    return user_id in settings.admin_ids

@router.message(F.text == "/admin")
async def admin_panel(message: Message):
    """
    –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
    """
    if not is_admin(message.from_user.id):
        await message.answer("‚ùå –£ –≤–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.")
        return

    text = "üëë –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å!"
    await message.answer(text, reply_markup=admin_keyboard)
````

---

## 2Ô∏è‚É£ –†–∞–∑–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 2.1 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞

- –§—É–Ω–∫—Ü–∏—è `is_admin(user_id)` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –µ—Å—Ç—å –ª–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–æ–≤
    
- –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `settings.ADMIN_IDS`
    
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –±–æ—Ç–æ–º
    

### 2.2 `admin_keyboard`

- Inline –∏–ª–∏ Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
    
    - –†–∞—Å—Å—ã–ª–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
        
    - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
        
    - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
        

### 2.3 –§–∏–ª—å—Ç—Ä—ã –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

- –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `F.text` –∏–ª–∏ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
    
- –î–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –ª—É—á—à–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä `IsAdminFilter`
    

---

## 3Ô∏è‚É£ –ü—Ä–∏–º–µ—Ä —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–æ–º

```python
from aiogram.filters import BaseFilter
from aiogram.types import Message
from bot.config import settings

class IsAdmin(BaseFilter):
    async def __call__(self, message: Message) -> bool:
        return message.from_user.id in settings.admin_ids

@router.message(IsAdmin())
async def admin_only_handler(message: Message):
    await message.answer("–í—ã –∞–¥–º–∏–Ω!")
```

- –§–∏–ª—å—Ç—Ä –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ª—é–±–æ–≥–æ —Ö–µ–Ω–¥–ª–µ—Ä–∞
    
- –ö–æ–¥ –æ—Å—Ç–∞—ë—Ç—Å—è —á–∏—Å—Ç—ã–º –∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º
    

---

## 4Ô∏è‚É£ –†–∞–±–æ—Ç–∞ —Å FSM –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏

–ï—Å–ª–∏ –∞–¥–º–∏–Ω –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞—Å—Å—ã–ª–∫–∞), –∏—Å–ø–æ–ª—å–∑—É–µ–º FSM:

```python
from aiogram.fsm.context import FSMContext
from bot.states import AdminState

@router.message(IsAdmin())
async def start_broadcast(message: Message, state: FSMContext):
    await state.set_state(AdminState.waiting_for_message)
    await message.answer("–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è —Ä–∞—Å—Å—ã–ª–∫–∏ –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:")
```

- `AdminState.waiting_for_message` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–∂–∏–¥–∞–Ω–∏—è –≤–≤–æ–¥–∞
    
- FSM —É–ø—Ä–æ—â–∞–µ—Ç –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
    

---

## 5Ô∏è‚É£ Best practices –¥–ª—è –∞–¥–º–∏–Ω-—Ö–µ–Ω–¥–ª–µ—Ä–æ–≤

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–¥–º–∏–Ω–∞ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞** –≤ –∫–∞–∂–¥–æ–º —Ö–µ–Ω–¥–ª–µ—Ä–µ
    
2. –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (`IsAdmin`) –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—â–µ
    
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
    
4. FSM –ø–æ–º–æ–≥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–Ω–æ–≥–æ—à–∞–≥–æ–≤—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
    
5. –õ–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –≤ –ë–î –∏–ª–∏ —Ñ–∞–π–ª –¥–ª—è –∞—É–¥–∏—Ç–∞
    
6. –†–∞–∑–¥–µ–ª—è–π—Ç–µ –æ–±—ã—á–Ω—ã–µ –∏ –∞–¥–º–∏–Ω—Å–∫–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞
    

---

## 6Ô∏è‚É£ –ò—Ç–æ–≥

- –ê–¥–º–∏–Ω-—Ö–µ–Ω–¥–ª–µ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –±–æ—Ç–æ–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
    
- –î–æ—Å—Ç—É–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø—Ä–æ–≤–µ—Ä–∫–æ–π ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä –∏ FSM —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
    
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—Å—Ç—ã–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º
    
- –û—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è –∞–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥ –ø–æ–≤—ã—à–∞–µ—Ç —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
    

